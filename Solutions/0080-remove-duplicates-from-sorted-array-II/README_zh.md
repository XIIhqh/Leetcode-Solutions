# 删除有序数组中的重复项 II

> **难度**：中等  
> **标签**：数组、双指针  
> **链接**：[LeetCode 第 80 题 - 删除有序数组中的重复项 II](https://leetcode-cn.com/problems/remove-duplicates-from-sorted-array-ii/)

## 问题描述

给定一个按非递减顺序排列的整数数组 `nums`。
- 你需要原地删除一些重复出现的元素，使得每个元素最多出现两次。
- 将最终结果放入数组的前 `k` 个位置后，返回 `k`。

**约束条件：**
- `1 <= nums.length <= 3 * 10^4`
- `-10^4 <= nums[i] <= 10^4`
- `nums` 按非递减顺序排列

**示例：**
```
输入：nums = [1,1,1,2,2,3]
输出：5, nums = [1,1,2,2,3,_]
```

## 解题方法

### 方法一：双指针
**思路**：使用两个指针，一个遍历数组，另一个记录有效元素（即出现次数不超过两次的元素）应放置的位置。

**步骤：**
1. 如果数组长度 ≤ 2，直接返回该长度。
2. 初始化 `left = 2`（前两个元素总是有效的）。
3. 从第三个元素开始遍历数组。
4. 如果当前元素与 `left` 指针前两个位置的元素不同，则将其复制到 `left` 位置，并将 `left` 后移一位。
5. 返回 `left` 作为新长度。

## 复杂度分析

**时间复杂度**：O(n)  
- 只需遍历数组一次。

**空间复杂度**：O(1)  
- 仅使用常数级别的额外空间。

## 关键点

- 一个指针用于遍历，另一个指针用于记录有效位置。
- 通过与两个位置前的元素比较来判断是否重复。
- 原地修改数组。
- 能处理各种边界情况：短数组、全重复、无重复等。

## 相关题目

- [删除有序数组中的重复项](https://leetcode.com/problems/remove-duplicates-from-sorted-array/)
- [移除元素](https://leetcode.com/problems/remove-element/)
- [移动零](https://leetcode.com/problems/move-zeroes/)
